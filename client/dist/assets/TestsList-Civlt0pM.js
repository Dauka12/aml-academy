import{r as u,j as a,ao as e,cW as r,bp as l,cV as B,dw as y,ar as n,cY as d,dv as W,bh as k}from"./index-CWPAtMRT.js";import{u as A,T as M,S as L}from"./useExamManager-C7Ln9q0H.js";import{u as P}from"./useTestSessionManager-OPsabaX4.js";import{C as R}from"./Container-D7Kqj5xH.js";import{A as D}from"./Alert-B32ZBNp2.js";import"./dateUtils-CDTve7xg.js";import"./CardContent-BcJgvWrU.js";import"./Divider-DGSKBwkV.js";import"./OlympiadRoutes-DStoIL9r.js";import"./useOlympiadStore-ErJtcenK.js";const V=e(l)(({theme:i})=>({minHeight:"100vh",backgroundImage:"linear-gradient(135deg, #1A2751 0%, #13203f 100%)",paddingTop:i.spacing(4),paddingBottom:i.spacing(6)})),z=e(r.div)(({theme:i})=>({backgroundColor:"#fff",borderRadius:24,padding:i.spacing(3),marginBottom:i.spacing(4),boxShadow:"0 12px 36px rgba(0, 0, 0, 0.12)"})),H=e(W)(({theme:i})=>({"& .MuiTabs-indicator":{backgroundColor:i.palette.secondary.main,height:3},"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minWidth:120,padding:i.spacing(1.5,2),"&.Mui-selected":{color:i.palette.secondary.main}}})),b=e(k)(({theme:i})=>({padding:i.spacing(4),textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.98)",borderRadius:16,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.08)"})),I=e(n)(({theme:i})=>({color:"#fff",marginBottom:i.spacing(3),fontWeight:600,textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})),Z=()=>{const[i,j]=u.useState(0),{exams:v,loading:f,error:T,fetchAllExams:x}=A(),{sessions:c,loading:C,error:S,getStudentSessions:g}=P();u.useEffect(()=>{x(),g()},[x,g]);const w=(t,o)=>{j(o)},E=f||C,m=T||S,p=v.filter(t=>t.startTime?new Date(t.startTime)<=new Date:!1).filter(t=>!c.some(o=>o.examData.id===t.id)),h={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsx(V,{children:a.jsxs(R,{maxWidth:"lg",children:[a.jsx(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsx(I,{variant:"h4",children:"Олимпиада - Тесты"})}),m&&a.jsx(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(D,{severity:"error",sx:{mb:3,borderRadius:2,boxShadow:"0 4px 12px rgba(211, 47, 47, 0.15)"},children:m})}),a.jsx(z,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:E?a.jsx(l,{display:"flex",justifyContent:"center",alignItems:"center",py:6,children:a.jsx(B,{size:60,thickness:4,color:"secondary"})}):a.jsxs(l,{children:[a.jsxs(H,{value:i,onChange:w,"aria-label":"test tabs",variant:"fullWidth",sx:{mb:4},children:[a.jsx(y,{label:"Доступные тесты"}),a.jsx(y,{label:"Мои тесты"})]}),i===0&&a.jsx(r.div,{variants:h,initial:"hidden",animate:"show",children:p.length===0?a.jsx(r.div,{variants:s,children:a.jsxs(b,{children:[a.jsx(n,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Нет доступных тестов"}),a.jsx(n,{variant:"body1",color:"text.secondary",children:"В данный момент для вас нет доступных тестов"})]})}):a.jsx(d,{container:!0,spacing:3,children:p.map(t=>a.jsx(d,{item:!0,xs:12,md:6,lg:4,children:a.jsx(r.div,{variants:s,children:a.jsx(M,{exam:t})})},t.id))})}),i===1&&a.jsx(r.div,{variants:h,initial:"hidden",animate:"show",children:c.length===0?a.jsx(r.div,{variants:s,children:a.jsxs(b,{children:[a.jsx(n,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Нет пройденных тестов"}),a.jsx(n,{variant:"body1",color:"text.secondary",children:"Вы еще не проходили ни одного теста"})]})}):a.jsx(d,{container:!0,spacing:3,children:c.map(t=>a.jsx(d,{item:!0,xs:12,md:6,lg:4,children:a.jsx(r.div,{variants:s,children:a.jsx(L,{session:t})})},t.id))})})]})})]})})};export{Z as default};
