import{u as A,c as D,r,a as $,j as e,V as T,H as W,F as B,d as k,e as w,M as L,bp as O}from"./index-D4Bdz1nj.js";function q(){const{t:a}=A(),l=D(),[x,m]=r.useState([]),[u,c]=r.useState(null),[h,i]=r.useState(!0),[p,d]=r.useState(!1),b=n=>{const t=localStorage.getItem("jwtToken");console.log(u,h),k.post(`${w}/api/aml/webinar/saveUser/webinar/${n}`,{},{headers:{Authorization:`Bearer ${t}`}}).then(s=>{console.log("Participation added successfully",s.data)}).catch(s=>{console.error("Error adding participation",s)}),d(!0)};r.useEffect(()=>{(async()=>{try{const t=await k.get(`${w}/api/aml/webinar/getWebinars`);t.status===200?(m(t.data),console.log(t.data)):c(t.statusText)}catch(t){c(t),console.error(t)}i(!1)})()},[]);const{styles:o,open:S,setOpen:j,checkStyle:v,userEntry:g}=$(),[y,f]=r.useState(!1),F="standard",[M,N]=r.useState(1);r.useEffect(()=>{if(!v||(console.log(g),console.log(y),N(1),g))return;const n=document.querySelectorAll(".text-content"),t=o.fontSize;f(!o.showImage),console.log(M),n&&n.forEach(s=>{switch(t){case"small":s.style.fontSize="15px";break;case"standard":s.style.fontSize="20px";break;case"large":s.style.fontSize="24px";break}}),I()},[]);const I=n=>{const t=document.querySelector(".text-content");t&&t.classList.remove("light-mode","dark-mode","inverted-mode");const{colorMode:s}=o;t&&t.classList.add(s+"-mode")},E=()=>{console.log("Images hidden"),f(!0)},z=()=>{f(!1)},V=n=>{switch(n=o.letterInterval,n){case"medium":return"2px";case"large":return"4px";default:return"1px"}};localStorage.getItem("jwtToken");const C=()=>{console.log("OPEN"),_(n=>!n),j(n=>!n)},[H,_]=r.useState(S);return e.jsxs("div",{className:"vebinars-page text-content",style:{background:o.colorMode==="dark"?"#000":o.colorMode==="light"?"#f2f2f2":o.colorMode==="blue"?"#9dd1ff":"#000"},children:[e.jsx(R,{handleClose:()=>{d(!1),l("/profile/vebinars")},open:p}),e.jsx(T,{open:H,onRemoveImages:E,onShowImages:z,onFontFamily:()=>{},onIntervalChange:()=>{},styles:o}),e.jsxs("div",{children:[e.jsx(W,{dark:o.colorMode!=="dark",handleOpenVisualModal:C}),e.jsx("div",{className:"container"})]}),e.jsx("div",{className:"page-content container",children:e.jsxs("div",{className:"interval",style:{letterSpacing:V(F)},children:[e.jsx("h1",{className:"text-content",style:{color:o.colorMode==="dark"?"#fff":o.colorMode==="light"?"#343434":o.colorMode==="blue"?"#063462":"#000"},children:a("webinars")}),e.jsx("div",{className:"vebinar-list-block",children:x.map((n,t)=>e.jsx(U,{vebinar:n,index:t,handleVebinarEnter:b}))})]})}),e.jsx(B,{})]})}const R=({open:a,handleClose:l})=>e.jsx(L,{open:a,onClose:()=>{l()},children:e.jsxs(O,{sx:{width:"590px",padding:"30px 55px",boxSizing:"border-box",background:"#FFFFFF",borderRadius:"10px",outline:"none",border:"none",position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)"},children:[e.jsx("h1",{style:{color:"#3A3939",textAlign:"center",fontFamily:"Ubuntu",fontSize:"22px",fontStyle:"normal",fontWeight:"400",lineHeight:"26px",marginBottom:"15px"},children:"Спасибо за ваш интерес к нашему вебинару!"}),e.jsxs("p",{style:{color:"#3A3939",textAlign:"center",fontFeatureSettings:"'clig' off, 'liga' off",fontFamily:"Ubuntu",fontSize:"18px",fontStyle:"normal",fontWeight:"400",lineHeight:"26px",marginBottom:"15px"},children:["Вы успешно зарегистрированы для участия."," ",e.jsx("strong",{style:{fontWeight:"700"},children:"Ожидайте подтверждение"})," ","на вашем электронном адресе."]}),e.jsx("p",{style:{color:"#4D4D4D",textAlign:"center",fontFeatureSettings:"'clig' off, 'liga' off",fontFamily:"Ubuntu",fontSize:"16px",fontStyle:"normal",fontWeight:"400",lineHeight:"26px",marginBottom:"15px"},children:"Ссылку на вебинар можете увидеть в разделе вебинары на странице профиля."}),e.jsx("div",{onClick:()=>l(),style:{width:"max-content",margin:"0 auto",background:"#1F3C88",borderRadius:"8px",padding:"12px 96px",color:"#FFF",fontFeatureSettings:"'clig' off, 'liga' off",fontFamily:"Manrope",fontSize:"16px",fontStyle:"normal",fontWeight:"700",lineHeight:"24px",letterSpacing:"0.2px",cursor:"pointer"},children:"Окей"})]})}),U=a=>{const{webinar_id:l,image:x,name:m,webinar_for_member_of_the_system:u,type:c,date:h}=a.vebinar,i=new Date(h),p={0:"января",1:"февраля",2:"марта",3:"апреля",4:"мая",5:"июня",6:"июля",7:"августа",8:"сентября",9:"октября",10:"ноября",11:"декабря"};function d({webinar_id:y,link:f}){a.handleVebinarEnter(y),window.open(a.vebinar.link,"_blank","noopener,noreferrer"),console.log(a.vebinar.link),console.log(a.index)}const b=i.getDate(),o=i.getMonth(),S=p[o],j=i.getHours(),v=i.getMinutes(),g=`${b} ${S} ${j.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`;return e.jsxs("div",{className:"vebinar-card",children:[e.jsx("img",{src:x,alt:""}),e.jsxs("div",{className:"info-block",children:[e.jsx("div",{className:"title",children:m}),e.jsxs("div",{children:[e.jsxs("div",{className:"vebinar-info",children:[e.jsxs("p",{children:["Аудитория (для кого): ",u]}),e.jsxs("p",{children:["Формат: ",c]}),e.jsx("p",{children:"Стоимость: бесплатно"}),e.jsx("div",{className:"date",children:g})]}),e.jsx("img",{src:"timeImagef",alt:""}),e.jsx("div",{className:"lector-info",children:e.jsx("div",{className:"action-btn",onClick:()=>d(l,a.link),children:"Принять участие"})})]})]})]})};export{q as default};
