import{r as a,ap as N,b as R,f as Z,c as w,j as r,au as A}from"./index-CWPAtMRT.js";import{b as u,s as B,a as C,D as L,c as O,n as y}from"./index-CCZRFkVN.js";/* empty css              */import"./AccordionSummary-D7U_clwu.js";import"./index-C_N9elVl.js";import"./Divider-DGSKBwkV.js";import"./white-man-D-S9VVWr.js";import"./Carousel_19-C89214jQ.js";const K=()=>{const[v,c]=a.useState(u),[n,d]=a.useState({1:{id:1,title:"Идентификационные данные",items:[]},2:{id:2,title:"Контактные данные",items:[]},3:{id:3,title:"Общие сведения",items:[]}}),{tasks:x,currentTaskIndex:f}=N(e=>e.tasks),l=x[f],m=R(),{level:h,subLevel:p}=Z(),b=w();a.useEffect(()=>{m(B({levelId:Number(h),subLevelId:Number(p)}))},[h,p,m]),a.useEffect(()=>{C()},[f]);const g=(e,o)=>{O(1,5,1,e,o)},j=(e,o)=>{d(t=>{const s={...t};return Object.values(s).forEach(i=>{i.items=i.items.filter(D=>D.id!==o.id)}),e!==0&&(s[e].items=[...s[e].items,o]),s}),c(e===0?t=>[...t,o]:t=>t.filter(s=>s.id!==o.id)),console.log(n)},E=()=>{var t;let e=0,o=(t=u)==null?void 0:t.length;return Object.values(n).forEach(s=>{s.items.forEach(i=>{i.correctZone===s.id&&e++})}),e/o},S=()=>{m(y(b))},k=()=>{const e=E();g(n,e),S(),console.log("Score:",e)},T=e=>{d(o=>{const t={...o};return Object.values(t).forEach(s=>{s.items=s.items.filter(i=>i.id!==e)}),t}),c(o=>{const t=u.find(s=>s.id===e);return t?[...o,t]:o})};return r.jsxs("div",{children:[l==null?void 0:l.content,r.jsx(L,{items:v,zones:n,handleDrop:j,onRemove:T}),r.jsx("div",{style:{textAlign:"right",marginRight:"30px"},children:r.jsx(A,{handling:k})})]})};export{K as default};
