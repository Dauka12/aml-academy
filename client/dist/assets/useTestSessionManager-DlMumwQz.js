import{o as C,j as b,r as n}from"./index-D4Bdz1nj.js";import{j as f,k as q,m as D,n as A,p as M,q as j,t as v,v as O,w as I}from"./OlympiadRoutes-CIFEOQ9L.js";import{u as y,a as z}from"./useOlympiadStore-FEkpQwM2.js";const V=C(b.jsx("path",{d:"M15 1H9v2h6zm-4 13h2V8h-2zm8.03-6.61 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"TimerOutlined"),B=()=>{const e=y(),{currentSession:t,sessions:o,loading:c,error:u,answerUpdating:i,answerError:l}=z(s=>s.testSession),m=n.useCallback(s=>e(f({examTestId:s})),[e]),d=n.useCallback(s=>e(q(s)),[e]),S=n.useCallback(s=>e(D(s)),[e]),T=n.useCallback(()=>e(A()),[e]),k=n.useCallback((s,a,r)=>e(M({studentExamSessionId:s,questionId:a,selectedOptionId:r})),[e]),x=n.useCallback((s,a,r=0)=>e(j({studentExamSessionId:s,questionId:a,selectedOptionId:r})),[e]),E=n.useCallback(()=>{e(v())},[e]),p=n.useCallback(()=>{e(O()),e(I())},[e]),h=n.useCallback(()=>{if(!t)return!1;const s=new Date(t.endTime),a=new Date;return!t.endTime||s>a},[t]),w=n.useCallback(()=>{if(!t||!t.endTime)return 0;const s=new Date(t.endTime),a=new Date,r=s.getTime()-a.getTime();return Math.max(0,Math.floor(r/1e3))},[t]);return{currentSession:t,sessions:o,loading:c,error:u,answerUpdating:i,answerError:l,startExamSession:m,endExamSession:d,getExamSession:S,getStudentSessions:T,updateAnswer:k,deleteAnswer:x,clearSession:E,clearErrors:p,isExamActive:h,getRemainingTime:w}};export{V as T,B as u};
