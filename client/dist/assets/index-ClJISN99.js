import{r,d as f,e as u,j as s,cz as b,cA as C,cB as k,cC as L,cD as _,c as w}from"./index-D4Bdz1nj.js";import{L as E}from"./index.esm-CVgTggFh.js";import{b as G}from"./index-wtVaOsNE.js";import{W as y,a as A,b as I,w as F}from"./white-man-D-S9VVWr.js";const n="/assets/level-logo-DnMjSvcQ.png",D="/assets/ring-image-CruOEoJY.png";function W(){var o,m,N,g;const c=localStorage.getItem("jwtToken"),[e,d]=r.useState(),[i,h]=r.useState(),j=()=>window.history.back();r.useEffect(()=>{f.get(`${u}/api/aml/game/getAvatarInfo`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(l=>{console.log(l.data),d(l.data)}).catch(l=>{console.error("Error fetching data:",l)})},[c]),r.useEffect(()=>{f.get(`${u}/api/aml/game/getUserGame`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(l=>{console.log(l.data),h(l.data)}).catch(l=>{console.error("Error fetching data:",l)})},[c]);const x=()=>{var p;let l=0;for(let v=0;v<((p=i==null?void 0:i.userGameLevel)==null?void 0:p.length);v++)i!=null&&i.userGameLevel[v].isPassed&&(l=l+1);return l};return s.jsxs("div",{className:"game-profile",children:[s.jsx(G,{}),s.jsxs("div",{className:"container",children:[s.jsxs("section",{className:"main",children:[s.jsxs("button",{className:"nav-back-btn",onClick:()=>j(),children:[s.jsx("div",{children:s.jsx(b,{})}),s.jsx("span",{children:"Назад"})]}),s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"subject-role",children:[s.jsx("img",{src:D,alt:""}),s.jsxs("div",{className:"info",children:[s.jsx("div",{className:"name",children:"Ювелирный магазин"}),s.jsx("div",{className:"date",children:"12.03.2024 - 12.04.2024"}),s.jsx("button",{children:"Узнать больше"})]})]}),s.jsx("div",{className:"analytic-block",children:s.jsxs("div",{className:"analytic-container",children:[s.jsxs("div",{className:"title",children:[s.jsx(E,{}),s.jsx("span",{children:"Аналитика игры"})]}),s.jsxs("div",{className:"levels",children:[s.jsxs("div",{className:"all",children:[s.jsx("div",{className:"logo",children:s.jsx(C,{})}),s.jsx("div",{children:"Уровни"}),s.jsx("div",{children:"6"})]}),s.jsxs("div",{className:"finished",children:[s.jsx("div",{className:"logo",children:s.jsx(k,{})}),s.jsx("div",{children:"Завершенные"}),s.jsx("div",{children:x()})]})]}),s.jsxs("div",{className:"finish-progress",children:[s.jsx("span",{children:"Уровень завершения"}),s.jsxs("div",{children:[i==null?void 0:i.percentage,"%"]})]})]})})]}),s.jsxs("div",{className:"levels-block",children:[s.jsx("div",{className:"title",children:s.jsx("span",{children:"Уровни"})}),s.jsxs("div",{className:"levels",children:[s.jsx(a,{color:"#80D473",progress:parseInt((o=i==null?void 0:i.userGameLevel[0])==null?void 0:o.percentage),name:"Организация внутреннего контроля",level:1,logo:n}),s.jsx(a,{color:"#1F3C88",progress:parseInt((m=i==null?void 0:i.userGameLevel[1])==null?void 0:m.percentage),name:"Риск-ориентированный подход",level:2,logo:n}),s.jsx(a,{color:"#E16666",progress:parseInt((N=i==null?void 0:i.userGameLevel[2])==null?void 0:N.percentage),name:"Надлежащая проверка клиента",level:3,logo:n}),s.jsx(a,{color:"#bf2ccc",progress:parseInt((g=i==null?void 0:i.userGameLevel[3])==null?void 0:g.percentage),name:"Мониторинг операции",level:4,logo:n})]}),s.jsxs("div",{className:"recomendations-block",children:[s.jsx("div",{className:"title",children:"Рекомендации"}),s.jsxs("div",{className:"recomendations",children:[s.jsx(t,{}),s.jsx(t,{}),s.jsx(t,{})]})]})]})]}),s.jsxs("section",{className:"right-bar",children:[s.jsxs("div",{className:"info-block",children:[s.jsx("div",{className:"avatar",children:s.jsx("img",{src:(e==null?void 0:e.id)===1?y:(e==null?void 0:e.id)===2?A:(e==null?void 0:e.id)===3?I:F,alt:""})}),s.jsxs("div",{className:"info",children:[s.jsx("div",{className:"name",children:e==null?void 0:e.first_name}),s.jsxs("div",{className:"fio",children:[s.jsxs("div",{children:["Фамилия: ",s.jsx("span",{children:e==null?void 0:e.last_name})]}),s.jsxs("div",{children:["Имя: ",s.jsx("span",{children:e==null?void 0:e.first_name})]}),s.jsxs("div",{children:["Отчество: ",s.jsx("span",{children:e==null?void 0:e.middle_name})]}),s.jsxs("div",{children:["Дата: ",s.jsx("span",{children:e==null?void 0:e.date_of_birth})]}),s.jsxs("div",{children:["ИИН: ",s.jsx("span",{children:e==null?void 0:e.iin})]})]}),s.jsxs("div",{className:"adv-info",children:[s.jsxs("div",{children:[s.jsx("div",{className:"title",children:"Период осуществления деятельности"}),s.jsx("div",{children:s.jsxs("div",{children:["Дата начала осуществления деятельности: ",s.jsx("span",{children:e==null?void 0:e.start_date})]})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"title",children:"Адрес"}),s.jsxs("div",{children:[s.jsxs("div",{children:["Почтовый индекс: ",s.jsx("span",{children:e==null?void 0:e.postal_code})]}),s.jsxs("div",{children:["Место положение: ",s.jsx("span",{children:e==null?void 0:e.location})]}),s.jsxs("div",{children:["Название улицы: ",s.jsx("span",{children:e==null?void 0:e.street_name})]}),s.jsxs("div",{children:["Номер дома: ",s.jsx("span",{children:e==null?void 0:e.house_number})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"title",children:"Вид субъекта финансового мониторинга"}),s.jsx("div",{children:s.jsx("div",{children:"индивидуальные предприниматели и юридические лица, осуществляющие операции с драгоценными металлами и драгоценными камнями, ювелирными изделиями из них"})})]})]})]})]}),s.jsxs("div",{className:"calendar",children:[s.jsxs("div",{className:"title",children:[s.jsx("div",{className:"date",children:"Май 2024"}),s.jsxs("div",{className:"actions",children:[s.jsx("div",{className:"prev",children:s.jsx(L,{})}),s.jsx("div",{className:"next",children:s.jsx(_,{})})]})]}),s.jsxs("div",{className:"week",children:[s.jsxs("div",{className:"active",children:[s.jsx("div",{children:"Пн"}),s.jsx("div",{children:"27"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Вт"}),s.jsx("div",{children:"28"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Ср"}),s.jsx("div",{children:"29"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Чт"}),s.jsx("div",{children:"30"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Пт"}),s.jsx("div",{children:"31"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Сб"}),s.jsx("div",{children:"1"})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Вс"}),s.jsx("div",{children:"2"})]})]})]})]})]})]})}const a=({color:c,progress:e,name:d,level:i,logo:h})=>{const j=w(),x=()=>{j(`/courses/aml-games/game/read/1/${i}/1/`)};return s.jsxs("div",{className:"level-card",onClick:o=>x(),children:[s.jsxs("div",{className:"left",children:[s.jsx("img",{src:h,alt:""}),s.jsxs("div",{className:"info",children:[s.jsx("div",{className:"name",children:d}),s.jsxs("div",{className:"step",children:["Уровень ",i]})]})]}),s.jsxs("div",{className:"progress-bar-container",children:[s.jsx("div",{className:"progress",style:{borderColor:c},children:s.jsx("div",{className:"fill",style:{width:`${e}%`,backgroundColor:c}})}),s.jsxs("div",{className:"percentage",children:[e,"%"]})]})]})},t=()=>s.jsxs("div",{className:"recomendation",children:[s.jsx("div",{className:"logo",children:s.jsx("img",{src:n,alt:""})}),s.jsx("div",{className:"name",children:"Обменные пункты"})]});export{W as default};
