import{u as W,bb as w,cU as A,r as i,b as V,c as F,ap as L,j as e,cW as c,bp as n,cX as R,ar as j,bs as y,d0 as D,bw as B,bj as v,cV as M,bh as q,aA as z}from"./index-D4Bdz1nj.js";import{L as G}from"./LanguageToggle-DBQqQAhy.js";import{c as H,l as U,o as N}from"./OlympiadRoutes-CIFEOQ9L.js";import{A as O}from"./Alert-CGYSj374.js";import{V as Q}from"./VisibilityOff-ouhe3aJL.js";import{V as X}from"./Visibility-s7NzBUHP.js";import{C as $}from"./Container-P5mz53dy.js";import"./Tooltip-Ca1dCJ1s.js";const J=c(q),K=()=>{const{t,i18n:Y}=W(),C=w(),a=A(C.breakpoints.down("sm")),[o,I]=i.useState(""),[l,S]=i.useState(""),[u,E]=i.useState(!1),[h,x]=i.useState(""),[g,b]=i.useState(""),m=V(),p=F(),{loading:r,error:d,isAuthenticated:f}=L(s=>s.auth);i.useEffect(()=>{f&&p("/olympiad/dashboard")},[f,p]),i.useEffect(()=>{o&&x(""),l&&b(""),d&&m(H())},[o,l,m,d]);const P=()=>{let s=!0;return o.trim()?/^\d{12}$/.test(o)||(x(t("login.errors.iinFormat")),s=!1):(x(t("login.errors.iinRequired")),s=!1),l||(b(t("login.errors.passwordRequired")),s=!1),s},T=async s=>{s.preventDefault(),P()&&m(U({iin:o,password:l}))},k=()=>{p("/olympiad/registration")};return e.jsxs(J,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},elevation:3,sx:{p:a?3:4,maxWidth:450,width:"100%",borderRadius:2,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",mx:a?2:0},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(c.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:e.jsx(R,{sx:{fontSize:a?50:60,color:"#f5b207",mb:2}})}),e.jsx(j,{variant:a?"h5":"h4",component:"h1",sx:{fontWeight:700,mb:1},children:t("login.title")}),e.jsx(j,{variant:a?"body2":"body1",color:"text.secondary",sx:{textAlign:"center"},children:t("login.subtitle")})]}),d&&e.jsx(O,{severity:"error",sx:{mb:3},children:d}),e.jsxs("form",{onSubmit:T,children:[e.jsx(n,{mb:2.5,children:e.jsx(y,{label:t("login.fields.iin"),variant:"outlined",fullWidth:!0,value:o,onChange:s=>I(s.target.value),error:!!h,helperText:h,inputProps:{maxLength:12},disabled:r,autoFocus:!0})}),e.jsx(n,{mb:3,children:e.jsx(y,{label:t("login.fields.password"),variant:"outlined",type:u?"text":"password",fullWidth:!0,value:l,onChange:s=>S(s.target.value),error:!!g,helperText:g,disabled:r,InputProps:{endAdornment:e.jsx(D,{position:"end",children:e.jsx(B,{onClick:()=>E(!u),edge:"end",children:u?e.jsx(Q,{}):e.jsx(X,{})})})}})}),e.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",gap:2},children:[e.jsx(v,{variant:"outlined",color:"primary",onClick:k,disabled:r,sx:{borderColor:"#1A2751",color:"#1A2751","&:hover":{borderColor:"#1A2751",backgroundColor:"rgba(26, 39, 81, 0.04)"},order:{xs:2,sm:1}},children:t("login.buttons.register")}),e.jsx(n,{sx:{order:{xs:1,sm:2}},children:e.jsx(c.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:e.jsx(v,{type:"submit",variant:"contained",disabled:r,sx:{bgcolor:"#1A2751","&:hover":{bgcolor:"#13203f"},minWidth:"120px"},startIcon:r&&e.jsx(M,{size:20,color:"inherit"}),children:t(r?"login.buttons.loggingIn":"login.buttons.login")})})})]})]})]})},ne=()=>{const t=w();return A(t.breakpoints.down("sm")),e.jsx(z,{store:N,children:e.jsx($,{maxWidth:!1,disableGutters:!0,children:e.jsxs(n,{sx:{width:"100%",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",py:5,backgroundImage:"linear-gradient(135deg, #1A2751 0%, #13203f 100%)"},children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle, transparent 20%, #1A2751 80%)",opacity:.6}}),e.jsx(G,{}),e.jsx(K,{})]})})})};export{ne as default};
